import{a as p,S as v,i as d}from"./assets/vendor-DjDxajEQ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();p.defaults.baseURL="https://pixabay.com/api";const x="45109890-d15cee52eedc615dd4ac8bedf";async function h({q:t,page:r,per_page:a}){const c=new URLSearchParams({key:x,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:a});return await p.get("?",{params:c}).then(({data:e})=>e).catch(e=>console.log(e))}const n={searchForm:document.querySelector(".js-form-container"),cardBox:document.querySelector(".card-container"),loader:document.querySelector(".js-loader"),loadMoreBtn:document.querySelector('[data-action="load-more"]'),elem:document.querySelector(".scrol")};n.cardBox.addEventListener("click",t=>t.preventDefault());function f(){n.loader.style.display="inline-block"}function m(){n.loader.style.display="none"}function g(t){const r=t.map(({webformatURL:c,largeImageURL:e,tags:o,likes:l,views:y,comments:b,downloads:L})=>`<li class="list-group-item scrol"><div class="search-card">
   <div class="card-img-box">
     <a clas="card-link" href="${e}"><img class="card-img" src="${c}" alt="${o}"></a>
   </div>
   <div class="card-box-text">
     <p class="card-text">Likes<br><span>${l}</span></p>
     <p class="card-text">Views<br><span>${y}</span></p>
     <p class="card-text">Comments<br><span>${b}</span></p>
     <p class="card-text">Downloads<br><span>${L}</span></p>
   </div>
</div></li>`).join("");n.cardBox.insertAdjacentHTML("beforeend",r),new v(".card-container a",{captionsData:"alt",captionDelay:250,overlayOpacity:.9}).refresh()}class C{constructor(r,a){this.buttonEL=r,this.hiddenClass=a}hide(){this.buttonEL.classList.add(this.hiddenClass)}show(){this.buttonEL.classList.remove(this.hiddenClass)}disable(){this.buttonEL.disabled=!0}enable(){this.buttonEL.disabled=!1}}const i=new C(n.loadMoreBtn,"is-hidden");i.hide();const s={q:"",page:1,per_page:15,maxPage:0};n.searchForm.addEventListener("submit",w);async function w(t){t.preventDefault(),n.cardBox.innerHTML="",f();const r=t.currentTarget;s.q=r.elements.search.value.toLowerCase().trim(),i.show(),i.disable(),s.page=1;try{f();const{total:a,hits:c}=await h(s);if(s.maxPage=Math.ceil(a/s.per_page),s.maxPage>1?(i.enable(),n.loadMoreBtn.addEventListener("click",u)):i.hide(),!c.length){i.disable(),d.error({message:"Sorry, there are no images matching<br>your search query. Please try again!",position:"topRight",messageColor:"#ffffff",backgroundColor:"#EF4040"});return}if(!s.q){i.hide(),d.error({message:"Please enter the data in the input field",position:"topRight",messageColor:"#ffffff",backgroundColor:"#EF4040"});return}g(c)}catch(a){d.error({message:`${a.message}`,position:"topRight",messageColor:"#ffffff",backgroundColor:"#EF4040"})}finally{m(),s.page===s.maxPage?(i.hide(),n.loadMoreBtn.removeEventListener("click",u)):i.enable(),r.reset()}}async function u(){i.disable(),s.page+=1;try{f();const{hits:t}=await h(s);g(t);let a=document.querySelector(".scrol").getBoundingClientRect();window.scrollBy({top:a.height*2,left:a.width,behavior:"smooth"})}catch(t){d.error({message:`${t.message}`,position:"topRight",messageColor:"#ffffff",backgroundColor:"#EF4040"})}finally{m(),s.page===s.maxPage?(d.success({message:"We're sorry, but you've reached the end of search results",position:"topRight"}),i.hide(),n.loadMoreBtn.removeEventListener("click",u)):i.enable()}}
//# sourceMappingURL=index.js.map
